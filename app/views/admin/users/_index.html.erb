<div class="user-index-container">
  <div class="user-index-container__header">
    <h2><i class="fas fa-users"></i>ユーザー一覧</h2>
    <div class="select">
      <%= form_with url: admin_users_path, method: :get, local: true do |f| %>
        <%= f.select :sort, [["ID(昇順)", "old"], ["ID(降順)", "new"], ["ログイン日時(近い)", "near"], ["ログイン日時(遠い)", "far"], ["垢BANユーザー", "punish"]], selected: params[:sort] %>
      <% end %>
    </div>
    <div class="search">
      <%= form_with url: search_admin_users_path, method: :get,  local: true do |f| %>
        <%= f.text_field :keyword, value: keyword, placeholder: "ユーザー名を入力", class: "search_form" %>
        <%= f.button :type => "submit", style: 'border-style: none;', class: "search-btn" do %>
          <i class="fas fa-search"></i>
        <% end %>
      <% end %>
    </div>
  </div>
  <table class="table table-bordered">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">ユーザー名</th>
        <th scope="col">登録メールアドレス</th>
        <th scope="col">登録日</th>
        <th scope="col">最終ログイン日</th>
        <th scope="col"><i class="fas fa-user-alt-slash"></i></th>
      </tr>
    </thead>
    <tbody>
      <% users.each do |user| %>
        <tr>
          <th><%= user.id %></th>
          <td><%= user.name %></td>
          <td><%= user.email %></td>
          <td><%= user.created_at.strftime("%Y年 %m月 %d日") %></td>
          <td><%= user.current_sign_in_at.strftime("%Y年 %m月 %d日 %H時 %M分") %></td>
          <td></td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <%= paginate users %>
</div>